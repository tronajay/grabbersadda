"use strict";var KTDatatablesInlineEditable=function(){var e,t,n,a=!1;const o=["Accountant","Chief Executive Officer (CEO)","Chief Financial Officer (CFO)","Chief Marketing Officer (CMO)","Chief Operating Officer (COO)","Customer Support","Data Coordinator","Developer","Development Lead","Director","Financial Controller","Integration Specialist","Javascript Developer","Junior Javascript Developer","Junior Technical Author","Marketing Designer","Office Manager","Personnel Lead","Pre-Sales Support","Post-Sales support","Regional Director","Regional Marketing","Sales Assistant","Secretary","Senior Javascript Developer","Senior Marketing Designer","Software Engineer","Support Engineer","Support Lead","System Architect","Systems Administrator","Team Leader","Technical Author"];var r=function(){e=document.querySelector("#kt_datatable_example_1");var r=document.createElement("button");r.classList.add("btn","btn-sm","btn-icon","btn-active-color-primary","h-15px","w-15px","ms-3");var i=document.createElement("i");i.classList.add("bi","bi-pencil-fill","fs-5"),r.appendChild(i);var s=document.createElement("input");s.classList.add("form-control"),s.setAttribute("type","text");var d=document.createElement("input");d.classList.add("form-control");var u=document.createElement("select");u.classList.add("form-select"),u.setAttribute("data-control","select2"),u.setAttribute("data-placeholder","Select a position"),o.forEach((e=>{var t=document.createElement("option");t.value=e,t.innerHTML=e,u.appendChild(t)}));const p=e.querySelectorAll("thead th");var f=[];p.forEach((e=>{f.push({edit:"false"!==e.getAttribute("data-kt-col-edit"),type:!!e.getAttribute("data-kt-col-type")&&e.getAttribute("data-kt-col-type")})}));e.querySelectorAll("tbody tr").forEach(((e,t)=>{e.querySelectorAll("td").forEach(((e,t)=>{e.setAttribute("data-kt-col-edit",f[t].edit),f[t].type&&e.setAttribute("data-kt-col-type",f[t].type)}))}));r.addEventListener("click",(e=>{const t=e.target.closest("td"),n=t.getAttribute("data-kt-col-type"),o=t.innerText;if(t.classList.add("editing"),t.innerHTML="",v(),"date"===n)d.value=o,r.remove(),t.appendChild(d),b();else if("dropdown"===n){u.value=o,r.remove(),t.appendChild(u);t.querySelectorAll("select option").forEach((e=>{e.removeAttribute("selected"),e.value===o&&e.setAttribute("selected","selected")})),a=!0,$(u).select2(),$(u).on("select2:select",(function(e){v()}))}else s.value=o,r.remove(),t.appendChild(s),s.focus()}));const m=(e,n)=>{const a=e.closest("td"),o=n;a.innerText=o,a.classList.remove("editing"),t.cell($(a)).data(o).draw(!1)},b=()=>{n=flatpickr(d,{dateFormat:"Y/m/d",clickOpens:!1,onClose:function(e,t,n){m(d,t)}}),setTimeout((function(){n.open()}),50)};s.addEventListener("blur",(e=>{m(e.target,e.target.value)})),s.addEventListener("keyup",(e=>{"Enter"!==e.key&&"Escape"!==e.key||s.blur()}));const v=()=>{if(!0===a){const e=u.value,n=u.closest("td");n.innerText=e,n.classList.remove("editing"),t.cell($(n)).data(e).draw(!1),a=!1}};document.addEventListener("click",(e=>{e.target.closest('[data-kt-col-type="dropdown"]')||a&&e.target!==i&&v()})),t=$(e).DataTable({columnDefs:[{orderable:!1,targets:0}],order:[1,"asc"],drawCallback:function(t){e.querySelectorAll("tbody tr td").forEach((e=>{"true"===e.getAttribute("data-kt-col-edit")&&e.addEventListener("mouseenter",(t=>{e.classList.contains("editing")||e.appendChild(r)}))})),c(),l()}})},c=()=>{const n=e.querySelectorAll('[type="checkbox"]'),a=document.querySelector('[data-kt-docs-table-select="delete_selected"]');n.forEach((e=>{e.addEventListener("click",(function(){setTimeout((function(){l()}),50)}))})),a.addEventListener("click",(function(){Swal.fire({text:"Are you sure you want to delete selected customers?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:"Yes, delete!",cancelButtonText:"No, cancel",customClass:{confirmButton:"btn fw-bold btn-danger",cancelButton:"btn fw-bold btn-active-light-primary"}}).then((function(a){a.value?Swal.fire({text:"You have deleted all selected customers!.",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn fw-bold btn-primary"}}).then((function(){n.forEach((e=>{e.checked&&t.row($(e.closest("tbody tr"))).remove().draw()}));e.querySelectorAll('[type="checkbox"]')[0].checked=!1})):"cancel"===a.dismiss&&Swal.fire({text:"Selected customers was not deleted.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn fw-bold btn-primary"}})}))}))};const l=()=>{const t=document.querySelector('[data-kt-docs-table-toolbar="base"]'),n=document.querySelector('[data-kt-docs-table-toolbar="selected"]'),a=document.querySelector('[data-kt-docs-table-select="selected_count"]'),o=e.querySelectorAll('tbody [type="checkbox"]');let r=!1,c=0;o.forEach((e=>{e.checked&&(r=!0,c++)})),r?(a.innerHTML=c,t.classList.add("d-none"),n.classList.remove("d-none")):(t.classList.remove("d-none"),n.classList.add("d-none"))};return{init:function(){r(),document.querySelector('[data-kt-docs-table-filter="search"]').addEventListener("keyup",(function(e){t.search(e.target.value).draw()}))}}}();KTUtil.onDOMContentLoaded((function(){KTDatatablesInlineEditable.init()}));